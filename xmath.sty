
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                  %%
%% Copyright (C) 2020 by Martin Debaisieux                          %%
%%                                                                  %%
%% This file may be distributed and/or modified under the           %%
%% conditions of the LaTeX Project Public License, either           %%
%% version 1.3 of this license or (at your option) any later        %%
%% version. The latest version of this license is in:               %%
%%                                                                  %%
%% http://www.latex-project.org/lppl.txt                            %%
%%                                                                  %%
%% and version 1.3 or later is part of all distributions of         %%
%% LaTeX version 2005/12/01 or later.                               %%
%%                                                                  %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%
\NeedsTeXFormat{LaTeX2e}[2020-02-02]
\ProvidesPackage{xmath}[2020-02-02]
%
%% Xmath extends
\RequirePackage{stmaryrd,
                amsthm,
                amsmath,
                amssymb,
                dsfont,
                mathrsfs,
                yfonts,
                mdframed,
                xstring}
%
%
\makeatletter
\newcommand*{\declarecommand}{%
  \@star@or@long\declare@command
}
\newcommand*{\declare@command}[1]{%
  \provide@command{#1}{}%
  \renew@command{#1}%
}
\makeatother
%
%
%% COMMANDS DEFINITION
%
% 1 ANALYSIS
% 1.1 SETS
\DeclareMathOperator{\Graph}{Graph}
\newcommand{\Le}{\mathrm{L}}
\newcommand{\T}{\mathscr{T}}
\newcommand{\Va}[1]{\mathscr{V}_{#1}}
% 1.2 OPERATORS
\DeclareMathOperator{\dist}{dist}
\newcommand{\rest}[2]{#1_{\restriction_{#2}}}
%
% 2 ALGEBRA
% 2.1 SETS
\declarecommand{\A}{\mathfrak{A}}
\DeclareMathOperator{\ACF}{ACF}
\DeclareMathOperator{\Aut}{Aut}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\D}{D}
\declarecommand{\E}{\mathfrak{E}}
\DeclareMathOperator{\G}{G}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\im}{im}
\declarecommand{\IC}{\mathbb{C}}
\declarecommand{\IF}{\mathbb{F}}
\declarecommand{\IK}{\mathbb{K}}
\declarecommand{\IS}{\mathbb{S}}
\declarecommand{\IN}{\mathbb{N}}
\declarecommand{\IO}{\mathbb{O}}
\declarecommand{\IP}{\mathbb{P}}
\declarecommand{\IQ}{\mathbb{Q}}
\declarecommand{\IR}{\mathbb{R}}
\declarecommand{\IZ}{\mathbb{Z}}
\DeclareMathOperator{\GL}{GL}
\declarecommand{\L}{\mathcal{L}}
\DeclareMathOperator{\M}{M}
\DeclareMathOperator{\N}{N}
\declarecommand{\O}{\text{O}}
\DeclareMathOperator{\Orb}{Orb}
\DeclareMathOperator{\Q}{Q}
\declarecommand{\set}[2]{\{#1\hspace{0mm} \mid\hspace{0mm} #2\}}
\DeclareMathOperator{\SL}{SL}
\DeclareMathOperator{\SO}{SO}
\DeclareMathOperator{\Stab}{Stab}
\renewcommand{\S}{\mathfrak{S}}
\DeclareMathOperator{\Z}{Z}
\makeatletter
\newcommand\ZnZ@textstyle[1]{\mathbb{Z}/{#1}\mathbb{Z}}
\newcommand\ZnZ[1]{%
  \mathchoice
    {\mathbb{Z}\raisebox{-0.20ex}[0ex][0ex]{$\big/$}_{\displaystyle {#1}\mathbb{Z}}
    }
  {\ZnZ@textstyle{#1}}
  {\ZnZ@textstyle{#1}}
  {\ZnZ@textstyle{#1}}
}
\makeatother
% 2.2 OBJECTS
\makeatletter
\def\vect{%
   \@ifnextchar[%
     {\vectbody@i}
     {\vectbody@i[1]}%
}
\def\vectbody@i[#1]{%
   \@ifnextchar[%
     {\vectbody@ii{#1}}
     {\vectbody@ii{#1}[n]}%
}
\def\vectbody@ii#1[#2]#3{%
  \IfInteger{#1}
    {#3_{#1},\dots, #3_{#2}}
    {#3_{1},\dots, #3_{#1}}
}
\makeatother
% 2.3 OPERATORS
\DeclareMathOperator{\card}{card}
\DeclareMathOperator{\Car}{Car}
\DeclareMathOperator{\ev}{ev}
\DeclareMathOperator{\Frac}{Frac}
\DeclareMathOperator{\Id}{Id}
\declarecommand{\normal}{\vartriangleleft}
\declarecommand{\gen}[1]{\langle #1 \rangle}
\DeclareMathOperator{\ord}{ord}
\DeclareMathOperator{\pgcd}{pgcd}
\DeclareMathOperator{\ppcm}{ppcm}
\DeclareMathOperator{\sign}{sign}
%
% 3 LOGIC
\DeclareMathOperator{\Conseq}{Conseq}
\DeclareMathOperator{\Frechet}{Fr\hat{e}chet}
\DeclareMathOperator{\Th}{Th}
%
% 4 PROBABILITY and STATISTICS
\DeclareMathOperator{\Var}{Var}
%
% 5 DOCUMENT STRUCUTURES
\newenvironment{corollary}{\begin{mdframed}{\textbf{Corollaire.}}}{\end{mdframed}}
\newenvironment{definition}{\begin{mdframed}{\textbf{Définition.}}}{\end{mdframed}}
\newenvironment{lemma}{\begin{mdframed}{\textbf{Lemme.}}}{\end{mdframed}}
\newenvironment{property}{\begin{mdframed}{\textbf{Propriété.}}}{\end{mdframed}}
\newenvironment{properties}{\begin{mdframed}{\textbf{Propriétés.}}}{\end{mdframed}}
\newenvironment{proposition}{\begin{mdframed}{\textbf{Proposition.}}}{\end{mdframed}}
\newenvironment{theorem}{\begin{mdframed}{\textbf{Théorème.}}}{\end{mdframed}}
\newenvironment{rcases}
  {\left.\begin{aligned}}
  {\end{aligned}\right\rbrace}
%
% OTHERS
\declarecommand{\Xmath}{\textbf{X\textsc{math}} }
\newcommand*{\xbox}[1]{\framebox{#1}}
\newcommand*\simrightarrow{%
\xrightarrow{\raisebox{-0.3ex}[0ex][0ex]{$_\sim$}}
}
\newcommand*\simleftarrow{%
\xleftarrow{\raisebox{-0.3ex}[0ex][0ex]{$_\sim$}}
}
\makeatletter
\newcommand{\oset}[2]{%
    {\mathop{#2}\limits^{\vbox to -.5\ex@{\kern-\tw@\ex@
    \hbox{#1}\vss}}}}
\makeatother
\newcommand*\longsimrightarrow{%
\oset{\raisebox{-0.60ex}[0ex][0ex]{$_\sim$}}{\longrightarrow}
}
\newcommand*\longsimleftarrow{%
\oset{\raisebox{-0.60ex}[0ex][0ex]{$_\sim$}}{\longleftarrow}
}
\newcommand{\hooklongrightarrow}{\lhook\joinrel\longrightarrow}
\newcommand{\hooklongleftarrow}{\longleftarrow\joinrel\rhook}
\makeatletter
\newcommand\quot@textstyle[2]{{#1}/{#2}}
\newcommand\quot[2]{%
  \mathchoice
    {{#1}\raisebox{-0.20ex}[0ex][0ex]{$\big/$}_{\displaystyle {#2}}
    }
  {\quot@textstyle{#1}{#2}}
  {\quot@textstyle{#1}{#2}}
  {\quot@textstyle{#1}{#2}}
}
\makeatother
\makeatletter
\newcommand*\rel@kern[1]{\kern#1\dimexpr\macc@kerna}
\newcommand*\widebar[1]{%
  \begingroup
  \def\mathaccent##1##2{%
    \rel@kern{0.8}%
    \overline{\rel@kern{-0.8}\macc@nucleus\rel@kern{0.2}}%
    \rel@kern{-0.2}%
  }%
  \macc@depth\@ne
  \let\math@bgroup\@empty \let\math@egroup\macc@set@skewchar
  \mathsurround\z@ \frozen@everymath{\mathgroup\macc@group\relax}%
  \macc@set@skewchar\relax
  \let\mathaccentV\macc@nested@a
  \macc@nested@a\relax111{#1}%
  \endgroup
}

\DeclareRobustCommand\longtwoheadrightarrow
     {\relbar\joinrel\twoheadrightarrow}
\DeclareRobustCommand\longtwoheadleftarrow
     {\twoheadleftarrow\joinrel\relbar}
\makeatletter
\newcommand*{\asign}{\mathrel{\rlap{%
                     \raisebox{0.3ex}{$\m@th\cdot$}}%
                     \raisebox{-0.3ex}{$\m@th\cdot$}}%
                     =}
\newcommand*{\signa}{=\mathrel{\rlap{%
                     \raisebox{0.3ex}{$\m@th\cdot$}}%
                     \raisebox{-0.3ex}{$\m@th\cdot$}}%
                     }
\makeatother
\endinput